package espotify.presentacion;

import espotify.DataTypes.DTAlbum_Simple;
import espotify.DataTypes.DTTemaSimple;
import espotify.logica.Fabrica;
import espotify.logica.IControlador;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Map.Entry;
import javax.swing.DefaultComboBoxModel;
import javax.swing.DefaultListModel;
import javax.swing.JOptionPane;

public class AgregarTemaALista extends javax.swing.JInternalFrame {

    private IControlador controlador;
    private DefaultComboBoxModel comboBoxDeListasModel = new DefaultComboBoxModel();
    private DefaultComboBoxModel comboBoxListasOAlbumsModel = new DefaultComboBoxModel();
    private DefaultComboBoxModel comboBoxTemasModel = new DefaultComboBoxModel();
    
    private List<String> nicknamesClientes;
    private List<String> listaNombresDeListasGenericas;
    private List<String> listaNombresListasParticularesPublicas;
    private List<String> listaNombresListasPorDefecto;
    private List<String> listaDatosAlbums;
    private List<String> listaDatosTemas;
    private Map<Long, String> mapAlbums;
    private Map<Long, String> mapTemas = new HashMap();
    private Map<Long, DTTemaSimple> mapDataTemas = new HashMap();
    private List<DTAlbum_Simple> listaDeDTAlbums;
    /**
     * Creates new form AgregarTemaALista
     */
    public AgregarTemaALista() {
        Fabrica fb = Fabrica.getInstance();
        controlador = fb.getControlador();
        nicknamesClientes = controlador.getNicknamesClientes();
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel5 = new javax.swing.JLabel();
        comboBoxTipoLista = new javax.swing.JComboBox<>();
        btnConfirmarAgregarTemaALista = new javax.swing.JButton();
        btnCancelarAgregarTemaALista = new javax.swing.JButton();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        comboBoxTipoDeOrigenTema = new javax.swing.JComboBox<>();
        jSeparator2 = new javax.swing.JSeparator();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        labelError = new javax.swing.JLabel();
        comboBoxClientes = new javax.swing.JComboBox<>();
        comboBoxListasReproduccion = new javax.swing.JComboBox<>();
        jLabel1 = new javax.swing.JLabel();
        comboBoxListasOAlbums = new javax.swing.JComboBox<>();
        jLabel2 = new javax.swing.JLabel();
        comboBoxTemas = new javax.swing.JComboBox<>();

        setClosable(true);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setTitle("Agregar Tema a Lista de Reproducci√≥n");

        jLabel5.setText("Tipo de lista: ");

        comboBoxTipoLista.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Seleccionar", "Lista por defecto", "Lista particular" }));
        comboBoxTipoLista.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboBoxTipoListaItemStateChanged(evt);
            }
        });
        comboBoxTipoLista.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboBoxTipoListaActionPerformed(evt);
            }
        });
        comboBoxTipoLista.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                comboBoxTipoListaPropertyChange(evt);
            }
        });

        btnConfirmarAgregarTemaALista.setText("Confirmar");
        btnConfirmarAgregarTemaALista.setSelected(true);
        btnConfirmarAgregarTemaALista.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnConfirmarAgregarTemaAListaActionPerformed(evt);
            }
        });

        btnCancelarAgregarTemaALista.setText("Cancelar");
        btnCancelarAgregarTemaALista.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCancelarAgregarTemaAListaActionPerformed(evt);
            }
        });

        jLabel6.setText("Seleccione la lista a la cual agregar el tema y el usuario si corresponde:");

        jLabel7.setText("Elija de donde seleccionar tema que desea agregar:");

        comboBoxTipoDeOrigenTema.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Seleccionar", "Lista por defecto", "Lista particular publica", "Album" }));
        comboBoxTipoDeOrigenTema.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboBoxTipoDeOrigenTemaItemStateChanged(evt);
            }
        });
        comboBoxTipoDeOrigenTema.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboBoxTipoDeOrigenTemaActionPerformed(evt);
            }
        });

        jLabel3.setText("Seleccione el tema que desea agregar:");

        jLabel4.setText("Cliente:");

        labelError.setForeground(new java.awt.Color(255, 0, 0));

        String[] arrayNicknamesClientes = nicknamesClientes.toArray(new String[nicknamesClientes.size()]);
        comboBoxClientes.setModel(new javax.swing.DefaultComboBoxModel<>(arrayNicknamesClientes));
        comboBoxClientes.setToolTipText("");
        comboBoxClientes.setEnabled(false);
        comboBoxClientes.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboBoxClientesItemStateChanged(evt);
            }
        });
        comboBoxClientes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboBoxClientesActionPerformed(evt);
            }
        });

        jLabel1.setText("Lista de reproduccion:");

        comboBoxListasOAlbums.setEnabled(false);
        comboBoxListasOAlbums.setMaximumSize(new java.awt.Dimension(32767, 600));
        comboBoxListasOAlbums.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                comboBoxListasOAlbumsItemStateChanged(evt);
            }
        });

        jLabel2.setText("Elija la lista o album del cual desea seleccionar el tema:");

        comboBoxTemas.setEnabled(false);
        comboBoxTemas.setMaximumSize(new java.awt.Dimension(32767, 600));

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(comboBoxTemas, javax.swing.GroupLayout.PREFERRED_SIZE, 603, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(comboBoxListasOAlbums, javax.swing.GroupLayout.PREFERRED_SIZE, 603, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(191, 191, 191)
                                    .addComponent(labelError, javax.swing.GroupLayout.PREFERRED_SIZE, 447, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(layout.createSequentialGroup()
                                    .addGap(35, 35, 35)
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                            .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 585, Short.MAX_VALUE)
                                            .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                        .addComponent(comboBoxTipoDeOrigenTema, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 471, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                            .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(jSeparator2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 585, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(layout.createSequentialGroup()
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(jLabel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 295, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                .addComponent(comboBoxClientes, javax.swing.GroupLayout.Alignment.TRAILING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(comboBoxListasReproduccion, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(comboBoxTipoLista, javax.swing.GroupLayout.PREFERRED_SIZE, 278, javax.swing.GroupLayout.PREFERRED_SIZE)))))))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(129, 129, 129)
                            .addComponent(btnCancelarAgregarTemaALista, javax.swing.GroupLayout.PREFERRED_SIZE, 205, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(33, 33, 33)
                            .addComponent(btnConfirmarAgregarTemaALista, javax.swing.GroupLayout.PREFERRED_SIZE, 206, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(47, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(jLabel6)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel5)
                    .addComponent(comboBoxTipoLista, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(comboBoxClientes, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addGap(14, 14, 14)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(comboBoxListasReproduccion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jSeparator2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel7)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(comboBoxTipoDeOrigenTema, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel2)
                .addGap(10, 10, 10)
                .addComponent(comboBoxListasOAlbums, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel3)
                .addGap(18, 18, 18)
                .addComponent(comboBoxTemas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(labelError)
                .addGap(41, 41, 41)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnCancelarAgregarTemaALista)
                    .addComponent(btnConfirmarAgregarTemaALista))
                .addContainerGap(23, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void comboBoxTipoListaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboBoxTipoListaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_comboBoxTipoListaActionPerformed

    private void comboBoxTipoListaPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_comboBoxTipoListaPropertyChange
        //
    }//GEN-LAST:event_comboBoxTipoListaPropertyChange

    private void btnCancelarAgregarTemaAListaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCancelarAgregarTemaAListaActionPerformed
       this.dispose();
    }//GEN-LAST:event_btnCancelarAgregarTemaAListaActionPerformed

    private void comboBoxTipoListaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboBoxTipoListaItemStateChanged
        if (evt.getStateChange() == java.awt.event.ItemEvent.SELECTED) {
            comboBoxDeListasModel.removeAllElements();
            
            if (comboBoxTipoLista.getSelectedItem().toString().equals("Lista particular")) {
                comboBoxListasReproduccion.setEnabled(true);
                
                if (comboBoxClientes.getSelectedItem() != null) {
                    comboBoxClientes.setEnabled(true);
                    String nickname = comboBoxClientes.getSelectedItem().toString();
                    try {
                        listaNombresDeListasGenericas = controlador.getNombresListasParticularesDeCliente(nickname);
                        for (String nombreLista : listaNombresDeListasGenericas) {
                            comboBoxDeListasModel.addElement(nombreLista);
                        }
                    comboBoxListasReproduccion.setModel(comboBoxDeListasModel);
                    } catch (Exception ex) {
                        JOptionPane.showMessageDialog(
                        null, 
                        ex.getMessage(), 
                        "Error", 
                        JOptionPane.ERROR_MESSAGE);
                    }
                }
                
                
            } else if (comboBoxTipoLista.getSelectedItem().toString().equals("Lista por defecto")){
                comboBoxListasReproduccion.setEnabled(true);
                comboBoxClientes.setEnabled(false);
                listaNombresDeListasGenericas = controlador.getNombresListasPorDefecto();
                
                for (String nombreLista : listaNombresDeListasGenericas) {
                    comboBoxDeListasModel.addElement(nombreLista);
                }
                comboBoxListasReproduccion.setModel(comboBoxDeListasModel);
                
            } else {
                comboBoxClientes.setEnabled(false);
                comboBoxListasReproduccion.setEnabled(false);
            }
        }
    }//GEN-LAST:event_comboBoxTipoListaItemStateChanged

    private void comboBoxTipoDeOrigenTemaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboBoxTipoDeOrigenTemaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_comboBoxTipoDeOrigenTemaActionPerformed

    private Boolean validarSeleccion() {
        if (comboBoxTipoLista.getSelectedItem() == null) return false;
        
        if (comboBoxTipoLista.getSelectedItem().equals("Seleccionar")) return false;
        
        if (comboBoxTipoLista.getSelectedItem().equals("Lista particular") 
            && comboBoxClientes.getSelectedItem() == null) return false;
        
        if (comboBoxListasReproduccion.getSelectedItem() == null) return false;
        
        return true;
    }
    
    private void btnConfirmarAgregarTemaAListaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnConfirmarAgregarTemaAListaActionPerformed
        
        if (!validarSeleccion()) {
            JOptionPane.showMessageDialog(
                        null, 
                        "Debe indicar a que lista desea agregar el tema.", 
                        "Error", 
                        JOptionPane.ERROR_MESSAGE);
        } else if (comboBoxTemas.getSelectedItem() == null) {
            JOptionPane.showMessageDialog(
                        null, 
                        "Debe indicar el tema que desea agregar.", 
                        "Error", 
                        JOptionPane.ERROR_MESSAGE);
        } else {
            String listaDestino = comboBoxListasReproduccion.getSelectedItem().toString();
            String temaSeleccionado = comboBoxTemas.getSelectedItem().toString();
            
            Long idTema = null;
            for (Entry<Long, String> entry : mapTemas.entrySet()) {
                if (entry.getValue().equals(temaSeleccionado)) {
                    idTema = entry.getKey();
                    break;
                }
            }
            
            try {
                controlador.agregarTemaALista(idTema, listaDestino);
                JOptionPane.showMessageDialog(
                        null, 
                        "El tema fue agregado exitosamente a la lista.", 
                        "Operacion Exitosa", 
                        JOptionPane.INFORMATION_MESSAGE);
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(
                        null, 
                        ex.getMessage(), 
                        "Error", 
                        JOptionPane.ERROR_MESSAGE);
            }
        }
        
    }//GEN-LAST:event_btnConfirmarAgregarTemaAListaActionPerformed

    private void comboBoxTipoDeOrigenTemaItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboBoxTipoDeOrigenTemaItemStateChanged
        if (evt.getStateChange() == java.awt.event.ItemEvent.SELECTED) {
            comboBoxListasOAlbumsModel.removeAllElements();
            
            if (comboBoxTipoDeOrigenTema.getSelectedItem().toString().equals("Lista particular publica")) {
                
                //habilito la seleccion del jlist
                comboBoxListasOAlbums.setEnabled(true);
                //obtengo las listas particulares publicas
                listaNombresListasParticularesPublicas = controlador.getNombresListasParticularesPublicas();
                //las cargo en el jlist por medio del list model
                for (String nombreLista : listaNombresListasParticularesPublicas) {
                    comboBoxListasOAlbumsModel.addElement(nombreLista);
                }
                comboBoxListasOAlbums.setModel(comboBoxListasOAlbumsModel);
                
            } else if (comboBoxTipoDeOrigenTema.getSelectedItem().toString().equals("Lista por defecto")) {
                comboBoxListasOAlbums.setEnabled(true);
                listaNombresListasPorDefecto = controlador.getNombresListasPorDefecto();
                
                for (String nombreLista : listaNombresListasPorDefecto) {
                    comboBoxListasOAlbumsModel.addElement(nombreLista);
                }
                comboBoxListasOAlbums.setModel(comboBoxListasOAlbumsModel);
                
            } else if (comboBoxTipoDeOrigenTema.getSelectedItem().toString().equals("Album")) {
                comboBoxListasOAlbums.setEnabled(true);
                listaDeDTAlbums = controlador.getDTAlbumesSimple();
                mapAlbums = new HashMap<Long, String>(listaDeDTAlbums.size());
                
                for (DTAlbum_Simple dtAlbum : listaDeDTAlbums) {
                    mapAlbums.put(dtAlbum.getIdAlbum(), dtAlbum.datosToString());
                    comboBoxListasOAlbumsModel.addElement(dtAlbum.datosToString());
                }
                comboBoxListasOAlbums.setModel(comboBoxListasOAlbumsModel);
                
            } else {
                comboBoxListasOAlbums.setEnabled(false);
            }
            cargarComboBoxTemas();
        }
    }//GEN-LAST:event_comboBoxTipoDeOrigenTemaItemStateChanged

    private void cargarComboBoxTemas() {
        comboBoxTemasModel.removeAllElements();
            
        if (comboBoxListasOAlbums.getSelectedItem() != null) {

            comboBoxTemas.setEnabled(true);
            mapTemas.clear();
            mapDataTemas.clear();

            String seleccion =  comboBoxListasOAlbums.getSelectedItem().toString();
            String tipoDeOrigen = comboBoxTipoDeOrigenTema.getSelectedItem().toString();

            if (tipoDeOrigen.equals("Lista particular publica")) {
                mapDataTemas = controlador.getDTTemasDeListaParticular(seleccion);
            } else if (tipoDeOrigen.equals("Lista por defecto")) {
                mapDataTemas = controlador.getDTTemasDeListaPorDefecto(seleccion);
            } else {
                Long idAlbum = null;

                for (Entry<Long, String> entry : mapAlbums.entrySet()) {
                    if (entry.getValue().equals(seleccion)) {
                        idAlbum = entry.getKey();
                        break;
                    }
                }
                mapDataTemas = controlador.getDTTemasDeAlbum(idAlbum);
            }

            mapTemas = new HashMap(mapDataTemas.size());

            for (Entry<Long, DTTemaSimple> entry : mapDataTemas.entrySet()) {
                mapTemas.put(entry.getKey(), entry.getValue().getDatosTemaToString());
                comboBoxTemasModel.addElement(entry.getValue().getDatosTemaToString());
            }

            comboBoxTemas.setModel(comboBoxTemasModel);

        } else {
            comboBoxTemas.setEnabled(false);
        }
    }
    
    private void comboBoxListasOAlbumsItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboBoxListasOAlbumsItemStateChanged
        if (evt.getStateChange() == java.awt.event.ItemEvent.SELECTED) {
            cargarComboBoxTemas();
        }
    }//GEN-LAST:event_comboBoxListasOAlbumsItemStateChanged

    private void comboBoxClientesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboBoxClientesActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_comboBoxClientesActionPerformed

    private void cargarComboBoxClientes() {
        comboBoxDeListasModel.removeAllElements();

        if (comboBoxClientes.getSelectedItem() !=  null) {
            String nickname = comboBoxClientes.getSelectedItem().toString();
            try {
                listaNombresDeListasGenericas = controlador.getNombresListasParticularesDeCliente(nickname);
                for (String nombreLista : listaNombresDeListasGenericas) {
                    comboBoxDeListasModel.addElement(nombreLista);
                }
            comboBoxListasReproduccion.setModel(comboBoxDeListasModel);
            } catch (Exception ex) {
                JOptionPane.showMessageDialog(
                    null, 
                    ex.getMessage(), 
                    "Error", 
                    JOptionPane.ERROR_MESSAGE);
            }
        }
    }
    
    private void comboBoxClientesItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_comboBoxClientesItemStateChanged
        if (evt.getStateChange() == java.awt.event.ItemEvent.SELECTED) {
            cargarComboBoxClientes();
        }
    }//GEN-LAST:event_comboBoxClientesItemStateChanged


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnCancelarAgregarTemaALista;
    private javax.swing.JButton btnConfirmarAgregarTemaALista;
    private javax.swing.JComboBox<String> comboBoxClientes;
    private javax.swing.JComboBox<String> comboBoxListasOAlbums;
    private javax.swing.JComboBox<String> comboBoxListasReproduccion;
    private javax.swing.JComboBox<String> comboBoxTemas;
    private javax.swing.JComboBox<String> comboBoxTipoDeOrigenTema;
    private javax.swing.JComboBox<String> comboBoxTipoLista;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JLabel labelError;
    // End of variables declaration//GEN-END:variables
}
